{"version":3,"sources":["opm.js"],"names":["OPM","styleHiddenContainers","$","children","addClass","moveNavItems","appendTo","show","expandTextAreas","max","each","i","el","textarea","keyup","setTimeout","style","cssText","scrollHeight","keydown","value","length","moveSubmitButtons","back_button","clone","insertAfter","remove","toggleCheckedClass","input","label","is_radio","is","change_class","focusblur_class","on","is_checked","siblings","removeClass","toggleClass","change","buildGDScheckboxes","control","container","checkbox","find","prepend","buildGDSradios","wrapInner","inputs","radio","id","helpPrompt","title","title_container","closest","content","next","toggle","applyErrorClass","anchor","document","documentElement"],"mappings":"AAAA,YAEA,IAAIA,OAEJA,KAAIC,sBAAwB,WACTC,EAAE,iBAAiBC,SAAS,yBAAyBC,SAAS,eAGjFJ,IAAIK,aAAe,WACjBH,EAAE,yBACDI,SAAS,iBACVJ,EAAE,yBAAyBK,QAG7BP,IAAIQ,gBAAkB,WACpB,GAAIC,GAAM,GACVP,GAAE,YAAYQ,KAAK,SAAUC,EAAGC,GAC9B,GAAIC,GAAWX,EAAEU,EACjBC,GAASC,MAAM,WACbC,WAAW,WACTH,EAAGI,MAAMC,QAAU,eACnBL,EAAGI,MAAMC,QAAU,UAAYL,EAAGM,aAAe,MACjD,KAEJL,EAASM,QAAQ,WACf,QAAM,aAAeP,KACfA,EAAGQ,MAAMC,QAAUZ,GACd,EAFX,YASNT,IAAIsB,kBAAoB,WACtB,GAAIC,GAAcrB,EAAE,eACpBqB,GAAYC,QAAQC,YAAY,WAChCF,EAAYG,UAGd1B,IAAI2B,mBAAqB,SAAUC,EAAOC,GACxC,GAAIC,GAAWF,EAAMG,GAAG,UACtBC,EAAe,WACfC,EAAkB,WAEpBL,GAAMM,GAAG,SAAU,WACjB,GAAIC,GAAaP,EAAMG,GAAG,WAEvBI,IAAcL,GACfD,EAAMO,SAAS,iBACdC,YAAYL,GAGfH,EAAMS,YAAYN,EAAcG,KAEjCD,GAAG,QAAS,WACXL,EAAMzB,SAAS6B,KAEhBC,GAAG,OAAQ,WACVL,EAAMQ,YAAYJ,KAEnBM,UAGHvC,IAAIwC,mBAAqB,WACvB,GAAIC,GAAUvC,EAAE,oBAEhBuC,GAAQ/B,KAAK,SAAUC,EAAGC,GACxB,GAAI8B,GAAYxC,EAAEU,GAChB+B,EAAWD,EAAUE,KAAK,kBAC1Bf,EAAQa,EAAUE,KAAK,SACtBxC,SAAS,eACTiC,YAAY,YACZQ,QAAQF,EACX3C,KAAI2B,mBAAmBgB,EAAUd,MAIrC7B,IAAI8C,eAAiB,WACnB,GAAIJ,GAAYxC,EAAE,wBAAwB6C,UAAU,8BAClDC,EAASN,EAAUE,KAAK,cAE1BI,GAAOtC,KAAK,SAAUC,EAAGC,GACvB,GAAIqC,GAAQ/C,EAAEU,GACZiB,EAAQa,EAAUE,KAAK,cAAehC,EAAGsC,GAAI,MAC5C9C,SAAS,eACTyC,QAAQI,EACXjD,KAAI2B,mBAAmBsB,EAAOpB,MAMlC7B,IAAImD,WAAa,WACf,GAAIC,GAAQlD,EAAE,cACdkD,GAAM1C,KAAK,SAAUC,EAAGC,GACtB,GAAIwC,GAAQlD,EAAEU,GAAImC,UAAU,2BAC1BM,EAAkBD,EAAME,QAAQ,iBAAiBlD,SAAS,wBAC1DmD,EAAUF,EAAgBG,KAAK,iBAAiBpD,SAAS,yBAE3DgD,GAAMlB,GAAG,QAAS,WAChBqB,EAAQE,SACRvD,EAAEU,GAAI0B,YAAY,eAKxBtC,IAAI0D,gBAAkB,WACpB,GAAIC,GAASzD,EAAE,UACbwC,EAAYiB,EAAOL,QAAQ,gBAC7BZ,GAAUtC,SAAS,oBAGrBF,EAAE,WACAA,EAAE0D,SAASC,iBAAiBzD,SAAS,uBACrCJ,IAAIsB,oBACJtB,IAAIQ,kBACJR,IAAIK,eACJL,IAAIC,wBACAC,EAAE,qBAAqBmB,QACzBrB,IAAIwC,qBAEFtC,EAAE,wBAAwBmB,QAC5BrB,IAAI8C,iBAEF5C,EAAE,gBACJF,IAAImD,aAEHjD,EAAE,aAAaC,SAAS,UAAUkB,QACnCrB,IAAI0D","file":"opm.min.js","sourcesContent":["'use strict';\n\nvar OPM = {};\n\nOPM.styleHiddenContainers = function () {\n  var containers = $('#content form').children('.opm-container:hidden').addClass('opm-reveal');\n};\n\nOPM.moveNavItems = function () {\n  $('.opm-progress-screens')\n  .appendTo('.active-stage');\n  $('.opm-progress-screens').show();\n};\n\nOPM.expandTextAreas = function () {\n  var max = 8000;\n  $('textarea').each(function (i, el) {\n    var textarea = $(el);\n    textarea.keyup(function () {\n      setTimeout(function () {\n        el.style.cssText = 'height:auto;';\n        el.style.cssText = 'height:' + el.scrollHeight + 'px';\n      },0);\n    });\n    textarea.keydown(function () {\n      if (!('maxLength' in el)) {\n        if (el.value.length >= max) {\n          return false;\n        }\n      }\n    });\n  });\n};\n\nOPM.moveSubmitButtons = function () {\n  var back_button = $('#back-button');\n  back_button.clone().insertAfter('#submit');\n  back_button.remove();\n};\n\nOPM.toggleCheckedClass = function (input, label) {\n  var is_radio = input.is(':radio'),\n    change_class = 'selected',\n    focusblur_class = 'add-focus';\n\n  input.on('change', function () {\n    var is_checked = input.is(':checked');\n\n    if(is_checked && is_radio) {\n      label.siblings('label:visible')\n      .removeClass(change_class);\n    }\n\n    label.toggleClass(change_class, is_checked);\n  })\n  .on('focus', function(){\n    label.addClass(focusblur_class);\n  })\n  .on('blur', function(){\n    label.removeClass(focusblur_class);\n  })\n  .change();\n}\n\nOPM.buildGDScheckboxes = function () {\n  var control = $('.control-checkbox');\n\n  control.each(function (i, el) {\n    var container = $(el),\n      checkbox = container.find('input:checkbox'),\n      label = container.find('label')\n      .addClass('block-label')\n      .removeClass('question')\n      .prepend(checkbox);\n    OPM.toggleCheckedClass(checkbox, label);\n  });\n};\n\nOPM.buildGDSradios = function () {\n  var container = $('.radio-group-boolean').wrapInner('<fieldset class=\"inline\"/>'),\n    inputs = container.find('input:radio');\n\n  inputs.each(function (i, el) {\n    var radio = $(el),\n      label = container.find('label[for=\"'+ el.id +'\"]')\n      .addClass('block-label')\n      .prepend(radio);\n    OPM.toggleCheckedClass(radio, label);\n  });\n\n\n}\n\nOPM.helpPrompt = function () {\n  var title = $('.help-title');\n  title.each(function (i, el) {\n    var title = $(el).wrapInner('<span class=\"summary\"/>'),\n      title_container = title.closest('.control-item').addClass('help-title-container'),\n      content = title_container.next('.control-item').addClass('help-content-container');\n\n    title.on('click', function () {\n      content.toggle();\n      $(el).toggleClass('active');\n    });\n  });\n}\n\nOPM.applyErrorClass = function () {\n  var anchor = $('.error'),\n    container = anchor.closest('.control-item');\n  container.addClass('error-container');\n}\n\n$(function () {\n  $(document.documentElement).addClass('js-enabled laa-ccms');\n  OPM.moveSubmitButtons();\n  OPM.expandTextAreas();\n  OPM.moveNavItems();\n  OPM.styleHiddenContainers();\n  if ($('.control-checkbox').length) {\n    OPM.buildGDScheckboxes();\n  }\n  if ($('.radio-group-boolean').length) {\n    OPM.buildGDSradios();\n  }\n  if ($('.help-title')) {\n    OPM.helpPrompt();\n  }\n  if($('.messages').children('.error').length) {\n    OPM.applyErrorClass();\n  }\n});\n"],"sourceRoot":"/source/"}