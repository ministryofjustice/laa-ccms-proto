{"version":3,"sources":["opm.js"],"names":["OPM","styleHiddenContainers","$","children","addClass","moveNavItems","appendTo","expandTextAreas","each","i","el","textarea","keyup","setTimeout","style","cssText","scrollHeight","moveSubmitButtons","back_button","clone","insertAfter","remove","toggleCheckedClass","input","label","is_radio","is","change_class","focusblur_class","on","is_checked","siblings","removeClass","toggleClass","change","buildGDScheckboxes","control","container","checkbox","find","prepend","buildGDSradios","wrapInner","inputs","radio","id","helpPrompt","title","title_container","closest","content","next","toggle","document","documentElement","length"],"mappings":"AAAA,YAEA,IAAIA,OAEJA,KAAIC,sBAAwB,WACTC,EAAE,iBAAiBC,SAAS,yBAAyBC,SAAS,eAGjFJ,IAAIK,aAAe,WACjBH,EAAE,yBACDI,SAAS,kBAGZN,IAAIO,gBAAkB,WACpBL,EAAE,YAAYM,KAAK,SAAUC,EAAGC,GAC9B,GAAIC,GAAWT,EAAEQ,EACjBC,GAASC,MAAM,WACbC,WAAW,WACTH,EAAGI,MAAMC,QAAU,yBACnBL,EAAGI,MAAMC,QAAU,UAAYL,EAAGM,aAAe,MACjD,QAKRhB,IAAIiB,kBAAoB,WACtB,GAAIC,GAAchB,EAAE,eACpBgB,GAAYC,QAAQC,YAAY,WAChCF,EAAYG,UAGdrB,IAAIsB,mBAAqB,SAAUC,EAAOC,GACxC,GAAIC,GAAWF,EAAMG,GAAG,UACtBC,EAAe,WACfC,EAAkB,WAEpBL,GAAMM,GAAG,SAAU,WACjB,GAAIC,GAAaP,EAAMG,GAAG,WAEvBI,IAAcL,GACfD,EAAMO,SAAS,iBACdC,YAAYL,GAGfH,EAAMS,YAAYN,EAAcG,KAEjCD,GAAG,QAAS,WACXL,EAAMpB,SAASwB,KAEhBC,GAAG,OAAQ,WACVL,EAAMQ,YAAYJ,KAEnBM,UAGHlC,IAAImC,mBAAqB,WACvB,GAAIC,GAAUlC,EAAE,oBAEhBkC,GAAQ5B,KAAK,SAAUC,EAAGC,GACxB,GAAI2B,GAAYnC,EAAEQ,GAChB4B,EAAWD,EAAUE,KAAK,kBAC1Bf,EAAQa,EAAUE,KAAK,SACtBnC,SAAS,eACT4B,YAAY,YACZQ,QAAQF,EACXtC,KAAIsB,mBAAmBgB,EAAUd,MAIrCxB,IAAIyC,eAAiB,WACnB,GAAIJ,GAAYnC,EAAE,wBAAwBwC,UAAU,8BAClDC,EAASN,EAAUE,KAAK,cAE1BI,GAAOnC,KAAK,SAAUC,EAAGC,GACvB,GAAIkC,GAAQ1C,EAAEQ,GACZc,EAAQa,EAAUE,KAAK,cAAe7B,EAAGmC,GAAI,MAC5CzC,SAAS,eACToC,QAAQI,EACX5C,KAAIsB,mBAAmBsB,EAAOpB,MAMlCxB,IAAI8C,WAAa,WACf,GAAIC,GAAQ7C,EAAE,cACd6C,GAAMvC,KAAK,SAAUC,EAAGC,GACtB,GAAIqC,GAAQ7C,EAAEQ,GAAIgC,UAAU,2BAC1BM,EAAkBD,EAAME,QAAQ,iBAAiB7C,SAAS,wBAC1D8C,EAAUF,EAAgBG,KAAK,iBAAiB/C,SAAS,yBAE3D2C,GAAMlB,GAAG,QAAS,WAChBqB,EAAQE,SACRlD,EAAEQ,GAAIuB,YAAY,eAKxB/B,EAAE,WACAA,EAAEmD,SAASC,iBAAiBlD,SAAS,uBACrCJ,IAAIiB,oBACJjB,IAAIO,kBACJP,IAAIK,eACJL,IAAIC,wBACAC,EAAE,qBAAqBqD,QACzBvD,IAAImC,qBAEFjC,EAAE,wBAAwBqD,QAC5BvD,IAAIyC,iBAEFvC,EAAE,gBACJF,IAAI8C","file":"opm.min.js","sourcesContent":["'use strict';\n\nvar OPM = {};\n\nOPM.styleHiddenContainers = function () {\n  var containers = $('#content form').children('.opm-container:hidden').addClass('opm-reveal');\n};\n\nOPM.moveNavItems = function () {\n  $('.opm-progress-screens')\n  .appendTo('.active-stage');\n};\n\nOPM.expandTextAreas = function () {\n  $('textarea').each(function (i, el) {\n    var textarea = $(el);\n    textarea.keyup(function () {\n      setTimeout(function () {\n        el.style.cssText = 'height:auto; padding:0';\n        el.style.cssText = 'height:' + el.scrollHeight + 'px';\n      },0);\n    });\n  });\n};\n\nOPM.moveSubmitButtons = function () {\n  var back_button = $('#back-button');\n  back_button.clone().insertAfter('#submit');\n  back_button.remove();\n};\n\nOPM.toggleCheckedClass = function (input, label) {\n  var is_radio = input.is(':radio'),\n    change_class = 'selected',\n    focusblur_class = 'add-focus';\n\n  input.on('change', function () {\n    var is_checked = input.is(':checked');\n\n    if(is_checked && is_radio) {\n      label.siblings('label:visible')\n      .removeClass(change_class);\n    }\n\n    label.toggleClass(change_class, is_checked);\n  })\n  .on('focus', function(){\n    label.addClass(focusblur_class);\n  })\n  .on('blur', function(){\n    label.removeClass(focusblur_class);\n  })\n  .change();\n}\n\nOPM.buildGDScheckboxes = function () {\n  var control = $('.control-checkbox');\n\n  control.each(function (i, el) {\n    var container = $(el),\n      checkbox = container.find('input:checkbox'),\n      label = container.find('label')\n      .addClass('block-label')\n      .removeClass('question')\n      .prepend(checkbox);\n    OPM.toggleCheckedClass(checkbox, label);\n  });\n};\n\nOPM.buildGDSradios = function () {\n  var container = $('.radio-group-boolean').wrapInner('<fieldset class=\"inline\"/>'),\n    inputs = container.find('input:radio');\n\n  inputs.each(function (i, el) {\n    var radio = $(el),\n      label = container.find('label[for=\"'+ el.id +'\"]')\n      .addClass('block-label')\n      .prepend(radio);\n    OPM.toggleCheckedClass(radio, label);\n  });\n\n\n}\n\nOPM.helpPrompt = function () {\n  var title = $('.help-title');\n  title.each(function (i, el) {\n    var title = $(el).wrapInner('<span class=\"summary\"/>'),\n      title_container = title.closest('.control-item').addClass('help-title-container'),\n      content = title_container.next('.control-item').addClass('help-content-container');\n\n    title.on('click', function () {\n      content.toggle();\n      $(el).toggleClass('active');\n    });\n  });\n}\n\n$(function () {\n  $(document.documentElement).addClass('js-enabled laa-ccms');\n  OPM.moveSubmitButtons();\n  OPM.expandTextAreas();\n  OPM.moveNavItems();\n  OPM.styleHiddenContainers();\n  if ($('.control-checkbox').length) {\n    OPM.buildGDScheckboxes();\n  }\n  if ($('.radio-group-boolean').length) {\n    OPM.buildGDSradios();\n  }\n  if ($('.help-title')) {\n    OPM.helpPrompt();\n  }\n});\n"],"sourceRoot":"/source/"}